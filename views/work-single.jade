extends layout

block content

  div.bg-fadeout-gradient

  for v,v_index in data["video"]
    if (v["id"] === url_params["video_id"])

      div.bg-static
        img(src="#{tmg_static_cdn}/video/#{v['id']}/#{v['image_background']}.jpg?v=#{app_version}")

      div.container.page-video
        div.row
          div.col-lf.video-player-box.col-sm-6
            div.video-player
              img.aspect-ratio(src="#{tmg_cdn}/img/misc/16x9.16.gif")
              img.bracket(src="#{tmg_cdn}/img/misc/bracket-red.png")
              img.poster-frame(src="#{tmg_static_cdn}/video/#{v['id']}/#{v['image_poster']}.jpg?v=#{app_version}")
              div.video-bttn
                img(src="#{tmg_cdn}/img/misc/play.png?v=#{app_version}")
                div.tmg-trans-50.radial-gradient

            div.page-video-scroll
              div.video-bttn.tmg-unselectable.tmg-trans-linear.video-scroll(onClick="$('.page-video-bttm').animatescroll()")
                img(src="#{tmg_cdn}/img/misc/arrow-down-red.png?v=#{app_version}")
                div.tmg-trans-50.radial-gradient
                div.down-label= "MORE"
              if (data['video'][(v_index-1)] != null)
                a(href="../work/#{data['video'][(v_index-1)]['id']}")
                  div.video-bttn.tmg-unselectable.tmg-trans-linear.video-prev
                    img(src="#{tmg_cdn}/img/misc/arrow-left-red.png?v=#{app_version}")
                    div.tmg-trans-50.radial-gradient
              if (data['video'][(v_index+1)] != null)
                a(href="../work/#{data['video'][(v_index+1)]['id']}")
                  div.video-bttn.tmg-unselectable.tmg-trans-linear.video-next
                    img(src="#{tmg_cdn}/img/misc/arrow-right-red.png?v=#{app_version}")
                    div.tmg-trans-50.radial-gradient

          div.col-lf.col-sm-6
            div.primary-title
              | <span style="color:#ff0000;">#{v["client"]}</span> â€” 
              | #{v["title"]}
            div.primary-body
              for itm, ind in v["primary_text"]
                p
                  | #{itm}
            div.production-roles
              img.bracket(src="#{tmg_cdn}/img/misc/bracket-gray.png?v=#{app_version}")
              for itm, ind in v["production_roles"]
                p
                  | #{itm}


        if (v["secondary_box_color"] !== "")
          style(type="text/css")
            | .clmn-lf-tp { background-color:##{v["secondary_box_color"]} !important; border-color:##{v["secondary_box_color"]} !important; }


        span(class="video-bttm-secondary-layout-#{v['secondary_layout']}")
          
          div.row.page-video-bttm
            div.col-lf.col-sm-4.clmn-lf
              div.clmn-lf-tp
                for itm, ind in v["secondary_text"]
                  p
                    | #{itm}
              if ((v['secondary_layout'] == 'standard') && (v['secondary_content'][2]['image'].length > 0))
                div.tmg-thmb.clmn-lf-bt
                  if (v['secondary_content'][2]['video'].length > 0)
                    div.video-bttn
                      img(src="#{tmg_cdn}/img/misc/play.png?v=#{app_version}")
                      div.tmg-trans-50.radial-gradient
                  img.video-frame-secondary(src="#{tmg_static_cdn}/video/#{v['id']}/#{v['secondary_content'][2]['image']}.jpg?v=#{app_version}",onLoad="setSquImg(this,'wd')")

            if ((v['secondary_layout'] == 'flat') || (v['secondary_content'][1]['image'].length == 0))
              div.col-lf.tmg-thmb.col-sm-8.clmn-md
                if (v['secondary_content'][0]['video'].length > 0)
                  div.video-bttn
                    img(src="#{tmg_cdn}/img/misc/play.png?v=#{app_version}")
                    div.tmg-trans-50.radial-gradient
                img.video-frame-secondary(src="#{tmg_static_cdn}/video/#{v['id']}/#{v['secondary_content'][0]['image']}.jpg?v=#{app_version}",onLoad="setSquImg(this,'wd')")

            if ((v['secondary_layout'] == 'standard') && (v['secondary_content'][1]['image'].length > 0))
              div.col-lf.tmg-thmb.col-sm-4.clmn-md
                if (v['secondary_content'][0]['video'].length > 0)
                  div.video-bttn
                    img(src="#{tmg_cdn}/img/misc/play.png?v=#{app_version}")
                    div.tmg-trans-50.radial-gradient
                img.video-frame-secondary(src="#{tmg_static_cdn}/video/#{v['id']}/#{v['secondary_content'][0]['image']}.jpg?v=#{app_version}",onLoad="setSquImg(this,'ht')")
              div.col-lf.tmg-thmb.col-sm-4.clmn-rt
                if (v['secondary_content'][1]['video'].length > 0)
                  div.video-bttn
                    img(src="#{tmg_cdn}/img/misc/play.png?v=#{app_version}")
                    div.tmg-trans-50.radial-gradient
                img.video-frame-secondary(src="#{tmg_static_cdn}/video/#{v['id']}/#{v['secondary_content'][1]['image']}.jpg?v=#{app_version}",onLoad="setSquImg(this,'ht')")

          if (v['secondary_layout'] == 'flat')
            if ((v['secondary_content'][1]['image'].length > 0) && (v['secondary_content'][2]['image'].length > 0))
              div.row.page-video-bttm.page-video-bttm-row-2
                div.col-lf.tmg-thmb.col-sm-6.clmn-md
                  if (v['secondary_content'][0]['video'].length > 0)
                    div.video-bttn
                      img(src="#{tmg_cdn}/img/misc/play.png?v=#{app_version}")
                      div.tmg-trans-50.radial-gradient
                  img.video-frame-secondary(src="#{tmg_static_cdn}/video/#{v['id']}/#{v['secondary_content'][0]['image']}.jpg?v=#{app_version}",onLoad="setSquImg(this,'wd')")
                div.col-lf.tmg-thmb.col-sm-6.clmn-rt
                  if (v['secondary_content'][1]['video'].length > 0)
                    div.video-bttn
                      img(src="#{tmg_cdn}/img/misc/play.png?v=#{app_version}")
                      div.tmg-trans-50.radial-gradient
                  img.video-frame-secondary(src="#{tmg_static_cdn}/video/#{v['id']}/#{v['secondary_content'][1]['image']}.jpg?v=#{app_version}",onLoad="setSquImg(this,'wd')")
            else if (v['secondary_content'][1]['image'].length > 0)
              div.row.page-video-bttm.page-video-bttm-row-2
                div.col-lf.tmg-thmb.col-sm-12.clmn-md
                  if (v['secondary_content'][1]['video'].length > 0)
                    div.video-bttn
                      img(src="#{tmg_cdn}/img/misc/play.png?v=#{app_version}")
                      div.tmg-trans-50.radial-gradient
                  img.video-frame-secondary(src="#{tmg_static_cdn}/video/#{v['id']}/#{v['secondary_content'][1]['image']}.jpg?v=#{app_version}",onLoad="setSquImg(this,'wd')")





            